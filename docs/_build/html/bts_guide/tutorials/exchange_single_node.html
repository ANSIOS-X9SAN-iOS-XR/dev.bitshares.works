

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to prepare BitShares Exchange Guide (Single Node Edition) &mdash; BItShares Developers Portal  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> BItShares Developers Portal
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/architectures.html">Introduction &amp; Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/environments.html">Development Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/components.html">System Components Elements</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/installation.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/bts_account.html">BitShares Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/interaction.html">Blockchain Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/testnets.html">Testnets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development/bsip.html">BitShares Improvement Proposal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supports_dev/supports.html">Support and Optimizations</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_about.html">1. API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/restrictions.html">2. API Access and Restrictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/calls.html">3. Available Calls, Object, and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/blockchain_api.html">4. Blockchain API(s)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/wallet_api.html">5. Wallet API - Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/objects_ids.html">6. Objects and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/namespaces.html">7. Graphene - Namespaces</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Developer Guide (Tutorials)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index_faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html">BitShares Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html#bitshares-blockchain">BitShares Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html">BitShares Developers’ Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html#articles">Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/githubrepo.html">BitShares Repositories</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BItShares Developers Portal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>How to prepare BitShares Exchange Guide (Single Node Edition)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-prepare-bitshares-exchange-guide-single-node-edition">
<span id="exchange-single-node"></span><h1>How to prepare BitShares Exchange Guide (Single Node Edition)<a class="headerlink" href="#how-to-prepare-bitshares-exchange-guide-single-node-edition" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this article is to assist third-party exchanges to go online for BitShares transactions.</p>
<p>The scheme described in this section is a single node scheme. Compared to the two-node scenario described in the previous document, the single-node solution can save memory, hard disk, and synchronization time.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#basic-concept" id="id3">1. Basic Concept</a></li>
<li><a class="reference internal" href="#basic-software-and-hardware-requirements" id="id4">2. Basic Software and Hardware Requirements</a></li>
<li><a class="reference internal" href="#program-preparation" id="id5">3. Program Preparation</a></li>
<li><a class="reference internal" href="#environmental-preparation" id="id6">4. Environmental Preparation</a></li>
<li><a class="reference internal" href="#synchronize-data" id="id7">5. Synchronize Data</a></li>
<li><a class="reference internal" href="#account-settings" id="id8">6. Account Settings</a></li>
<li><a class="reference internal" href="#wallet-command" id="id9">7. Wallet Command</a></li>
<li><a class="reference internal" href="#wallet-api" id="id10">8. Wallet API</a></li>
<li><a class="reference internal" href="#deal-with-deposit" id="id11">9. Deal with Deposit</a></li>
<li><a class="reference internal" href="#processing-withdrawals" id="id12">10. Processing Withdrawals</a></li>
<li><a class="reference internal" href="#others" id="id13">11. Others</a></li>
<li><a class="reference internal" href="#related-information" id="id14">12. Related information</a></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="basic-concept">
<h2><a class="toc-backref" href="#id3">1. Basic Concept</a><a class="headerlink" href="#basic-concept" title="Permalink to this headline">¶</a></h2>
<p>1.1 Consensus</p>
<p>The BitShares uses the DPOS consensus mechanism to vote for the block forge by the person holding the BTS. The standard block interval is 3 seconds.</p>
<p>1.2 Account</p>
<ol class="arabic">
<li><p class="first">In BitShares, funds are stored in an account, unlike Bitcoin where there is an address. For the exchange, it is necessary to open an account for users to deposit.</p>
<p>You can use a web wallet or light wallet to register a new account.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the exchange, please use the wallet mode (Local Wallet) instead of the account mode  (Cloud Wallet) for the registered account, because the exchange needs to use some advanced functions and there will be problems in the account mode.</p>
</div>
<ul class="simple">
<li>[BitShares-UI Release](<a class="reference external" href="https://github.com/bitshares/bitshares-ui/releases">https://github.com/bitshares/bitshares-ui/releases</a>)</li>
<li>BitShare UI wallet <a class="reference external" href="https://wallet.bitshares.org">https://wallet.bitshares.org</a></li>
<li>[Create an Account Guide](<a class="reference external" href="https://github.com/bitshares/how.bitshares.works/blob/master/bbf/user_guide/create_account.md#bitshares-account-and-wallet">https://github.com/bitshares/how.bitshares.works/blob/master/bbf/user_guide/create_account.md#bitshares-account-and-wallet</a>)</li>
</ul>
<p>(If it is the official webpage wallet or light wallet 171102 or above, the default is the account mode (Cloud Wallet) when registering for the first time, you can click “Advanced” to enter the wallet mode (Local Wallet) ).</p>
<blockquote>
<div><p>Not all accounts can be registered for free. Generally, a flat or numeric account can be registered for free, such as my-exchange, or myexchange2017.</p>
<p>In the light wallet account page, a number is displayed below the account number. This number is the built-in ID of the account in the BitShares system, which will be used below.</p>
<p>&gt; Note: You would find your account ID by opening a side menu - [Accounts] and select an Account tab.</p>
<p>You can go to the blockchain browser <a class="reference external" href="https://cryptofresh.com/">https://cryptofresh.com/</a> and enter the account name to get the account ID.</p>
<p>You can also use the command to obtain the ID in the wallet after the synchronization of the self-built node is completed, and you can obtain the command reference section <em>Checking the name of the account for withdrawal</em>.</p>
<p>For the sake of fund safety, the exchange can use one account to deposit (charge) the money, and the another account can be used to withdraw money.</p>
</div></blockquote>
<ol class="arabic" start="2">
<li><p class="first">User’s deposit is transferred from other accounts to the open account of the exchange.</p>
<p>The account name is the payment address.</p>
<p>Each remittance can carry one memo (note). The exchange uses this remark to distinguish which user’s deposit.</p>
<p>The specific remarks are related to the exchange user’s relationship, and the exchange must set it up.</p>
<p>Remarks are encrypted and only the memo (note) key with the sender or receiver can be decrypted.</p>
</li>
<li><p class="first">User withdrawals are transferred from the exchange account to the user account. The destination account name is provided by the user.</p>
<p>Since there are users who need to transfer funds directly from one exchange to another exchange, and another exchange is based on remarks, the cash withdrawal function can best take memo (notes).</p>
</li>
<li><p class="first">The account registered using the web wallet is the basic account. Can be upgraded to a lifetime membership (LTM) account, after the upgrade, the subsequent transaction fee to save 80%.</p>
<p>Lifetime members can create new accounts.</p>
<p>The current fee rate standard can be viewed in the wallet. From the interface, click Explore - Fee Schedule tab to access.</p>
</li>
<li><p class="first">Each account has 3 pairs of keys by default, which can be viewed on a Permissions page from the side menu. They are: Active, Owner, and Memo keys.</p>
<p>Among them, the active authority key is used for daily operations such as transfer; the owner authority key is used to modify the key; the memo key is used to encrypt and decrypt the transfer remarks.</p>
<p>By default, the active permission key is the same as the memo key, but it can be modified to be different.</p>
<p>The above 3 pairs of keys can be modified. Among them, the owner (account privilege) is the highest privilege, and all keys can be modified; using the owner (active privilege) key, the owner (account privilege) key cannot be modified, but the other two keys can be modified.</p>
</li>
</ol>
<p>1.3 Assets</p>
<ol class="arabic simple">
<li>There are various assets in the BitShares system, of which the core asset is the BTS. The approach of the exchange to other assets in the BitShares system is similar to that of the BTS.</li>
<li>Each account can have multiple assets at the same time.</li>
</ol>
<p>1.4 BlockChain Structure</p>
<ul class="simple">
<li>Each block has an ID, block_id, which is the hash value of the block contents.</li>
<li>Each block contains the ID of the previous block, stored in the <em>previous</em> field, thus forming a chain;</li>
<li>Each block contains multiple transactions, stored in the <em>transactions</em> field and stored in order;
- When using the API to get block information, it also returns the <em>transaction_ids</em> field, which is the list of transaction IDs. It is the serialized hash value of the transaction (without signature).</li>
<li>Each transaction can contain multiple operations, stored in the <em>operations</em> field and stored in order;
- Each operation also has an ID, which is a global number, generated internally during program execution, not a hash value.</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="basic-software-and-hardware-requirements">
<h2><a class="toc-backref" href="#id4">2. Basic Software and Hardware Requirements</a><a class="headerlink" href="#basic-software-and-hardware-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Stand-alone server or VPS</li>
<li>8G memory (more and better)</li>
<li>50G hard disk</li>
</ul>
<p>Install 64-bit Ubuntu 16.04 LTS (it will not work on 32-bit Ubuntu), or 64-bit Ubuntu 14.04 LTS, or Windows Server.</p>
</div>
<hr class="docutils" />
<div class="section" id="program-preparation">
<h2><a class="toc-backref" href="#id5">3. Program Preparation</a><a class="headerlink" href="#program-preparation" title="Permalink to this headline">¶</a></h2>
<p>To start-off the BitShares system, you need to run these programs: normal node witness_node, command line wallet cli_wallet.</p>
<p>3.1 Architecture Description</p>
<ul class="simple">
<li>The witness_node is connected to the BitShares network in a P2P manner, receives the latest block from the network, and broadcasts the locally signed transaction packet to the network.</li>
<li>The witness_node provides an API for other program calls (hereafter referred to as node APIs) via websocket + HTTP RPC.</li>
<li>Cli_wallet connects to witness_node via websocket.</li>
<li>Cli_wallet manages wallet files, which contain an encrypted user private key, and a wallet file can contain multiple private keys.</li>
<li>You can run multiple cli_wallet processes at the same time and connect to the witness_node to manage multiple wallet files at the same time.</li>
<li>Cli_wallet provides the transaction signature function, which is broadcast after being signed by the witness_node.</li>
<li>Cli_wallet provides APIs for other program calls (hereafter referred to as wallet APIs) via HTTP RPC.</li>
<li>The recommended exchange uses a cli_wallet to monitor user deposit and another cli_wallet to handle user withdrawal requests.</li>
</ul>
<p>3.2 Windows</p>
<p>The compiled Windows executable is available for download on Github, at <a class="reference external" href="https://github.com/bitshares/bitshares-core/releases/latest">https://github.com/bitshares/bitshares-core/releases/latest</a> ,</p>
<p>The file is <cite>BitShares-Core-2.0.xxxxxx-x64-cli-tools.zip</cite> and it can be unzipped. It contains three exe files and two dll files. Here is the <a class="reference internal" href="../../development/installation/windows_cli_tool.html#cli-tool"><span class="std std-ref">installation guide: CLI-Wallet on Windows (x64)</span></a></p>
<p>3.3 Linux</p>
<p>If you are using a Linux system, you need to compile several of these programs yourself. Ubuntu 16.04 LTS (64 bit) is recommended. The compilation steps are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">autoconf</span> <span class="n">cmake</span> <span class="n">git</span> <span class="n">libboost</span><span class="o">-</span><span class="nb">all</span><span class="o">-</span><span class="n">dev</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">doxygen</span> <span class="n">g</span><span class="o">++</span> <span class="n">libcurl4</span><span class="o">-</span><span class="n">openssl</span><span class="o">-</span><span class="n">dev</span>

<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bitshares</span><span class="o">/</span><span class="n">bitshares</span><span class="o">-</span><span class="n">core</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">bitshares</span><span class="o">-</span><span class="n">core</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">&lt;</span><span class="n">LATEST_RELEASE_TAG</span><span class="o">&gt;</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">recursive</span>
<span class="n">mkdir</span> <span class="n">build</span>
<span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">..</span>
<span class="n">make</span> <span class="n">witness_node</span> <span class="n">cli_wallet</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the above steps, replace &lt;LATEST_RELEASE_TAG&gt; with the latest release number. At the time of this writing, the latest version number is 2.0.180612</p>
</div>
<p>After the compilation is complete, two executable programs are:</p>
<ul class="simple">
<li>build/programs/witness_node/witness_node</li>
<li>build/programs/cli_wallet/cli_wallet</li>
</ul>
<p>The above program can be copied to other directories or other servers for execution. By default, the program is considered to be in the current directory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When copying to other servers for execution, if the server operating system or other hardware and software environments are different, they may not be used.</p>
</div>
<p>If you use Ubuntu 14.04 LTS (64 bit), you need to compile and install the Boost library before performing the above steps.</p>
<p>Please note that currently only Boost libraries from 1.57.0 to 1.65.0 are supported.</p>
<p>The steps to compile and install the Boost library are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">cmake</span> <span class="n">make</span> <span class="n">libbz2</span><span class="o">-</span><span class="n">dev</span> <span class="n">libdb</span><span class="o">++-</span><span class="n">dev</span> <span class="n">libdb</span><span class="o">-</span><span class="n">dev</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">openssl</span> <span class="n">libreadline</span><span class="o">-</span><span class="n">dev</span> <span class="n">autoconf</span> <span class="n">libtool</span> <span class="n">git</span> <span class="n">autotools</span><span class="o">-</span><span class="n">dev</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">g</span><span class="o">++</span> <span class="n">libbz2</span><span class="o">-</span><span class="n">dev</span> <span class="n">libicu</span><span class="o">-</span><span class="n">dev</span> <span class="n">python</span><span class="o">-</span><span class="n">dev</span> <span class="n">doxygen</span>

<span class="n">wget</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;http://sourceforge.net/projects/boost/files/boost/1.57.0/boost_1_57_0.tar.bz2/download&#39;</span> <span class="o">-</span><span class="n">O</span> <span class="n">boost_1_57_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">tar</span> <span class="n">xjf</span> <span class="n">boost_1_57_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">cd</span> <span class="n">boost_1_57_0</span>
<span class="o">./</span><span class="n">bootstrap</span><span class="o">.</span><span class="n">sh</span>
<span class="n">sudo</span> <span class="o">./</span><span class="n">b2</span> <span class="n">install</span>
</pre></div>
</div>
<p>It is also possible to compile with other Linux distributions, which is beyond the scope of this article.</p>
</div>
<hr class="docutils" />
<div class="section" id="environmental-preparation">
<h2><a class="toc-backref" href="#id6">4. Environmental Preparation</a><a class="headerlink" href="#environmental-preparation" title="Permalink to this headline">¶</a></h2>
<p>To ensure the normal operation of the system, you need to ensure that the <cite>server system time</cite> is correct. Inaccurate times can cause problems such as the failure of synchronization of blockchains and the failure of funds to be sent.</p>
<p>Ubuntu system is recommended to install NTP server by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sudo</span> <span class="n">timedatectl</span> <span class="nb">set</span><span class="o">-</span><span class="n">ntp</span> <span class="n">false</span>
<span class="n">Sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ntp</span>
</pre></div>
</div>
<p>Depending on the deployment environment, you may need to modify the default ntp server address. See the related documentation.</p>
<p>If it is a Windows system, set the system time synchronization.</p>
</div>
<hr class="docutils" />
<div class="section" id="synchronize-data">
<h2><a class="toc-backref" href="#id7">5. Synchronize Data</a><a class="headerlink" href="#synchronize-data" title="Permalink to this headline">¶</a></h2>
<p>Since it is necessary to run multiple programs at the same time, Ubuntu recommends starting the program on screen or tmux.</p>
<p>The following description is mainly for Ubuntu, so the command comes with <cite>./</cite>. For Windows, after the command line interface cd to the program directory, ./ is not required for execution.</p>
<p>5.1 witness_node</p>
<p>You can use <cite>./witness_node –help</cite> to see the command parameters.</p>
<p>5.1.1 Initial Implementation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">witness_node</span> <span class="o">-</span><span class="n">d</span> <span class="n">witness_node_data_dir</span>
</pre></div>
</div>
<p>Then press <cite>Ctrl+C</cite> to end it.</p>
<p>This will generate a data directory in the current directory, <cite>witness_node_data_dir</cite>, which contains the blockchain directory for the data store and a <a class="reference internal" href="../../development/apps/node_config_example.html#bts-config-ini-eg"><span class="std std-ref">config.ini</span></a> configuration file.</p>
<p>For exchanges, some modifications to the <cite>config.ini</cite> configuration file are recommended.</p>
<ol class="arabic">
<li><p class="first">You can close the p2p log to reduce disk storage pressure by finding the <cite>filename=logs/p2p/p2p.log</cite> line and adding the # sign to the beginning of the line. Or change <cite>level=info below [logger.p2p]</cite> to level=error</p>
</li>
<li><p class="first">Consider saving the console log to a file at the same time by using the following sections:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">logger</span><span class="o">.</span><span class="n">default</span><span class="p">]</span>
<span class="n">level</span><span class="o">=</span><span class="n">info</span>
<span class="n">appenders</span><span class="o">=</span><span class="n">stderr</span>
</pre></div>
</div>
</li>
</ol>
<p>change into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">log</span><span class="o">.</span><span class="n">file_appender</span><span class="o">.</span><span class="n">default</span><span class="p">]</span>
<span class="n">filename</span><span class="o">=</span><span class="n">logs</span><span class="o">/</span><span class="n">default</span><span class="o">/</span><span class="n">default</span><span class="o">.</span><span class="n">log</span>

<span class="p">[</span><span class="n">logger</span><span class="o">.</span><span class="n">default</span><span class="p">]</span>
<span class="n">level</span><span class="o">=</span><span class="n">info</span>
<span class="n">appenders</span><span class="o">=</span><span class="n">stderr</span><span class="p">,</span><span class="n">default</span>
</pre></div>
</div>
<p>After this, the console log for the last 24 hours is kept under the <cite>witness_node_data_dir/logs/default/</cite> directory.</p>
<ol class="arabic" start="3">
<li><p class="first">The following parameters will reduce the memory required for operation. The principle is that the historical transaction record index of the BTS built-in transaction engine is not saved because the exchange does not normally use this data.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">history</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</li>
</ol>
<p>If it is 2.0.171105a and later, you need to set this parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span> <span class="o">=</span> <span class="n">witness</span> <span class="n">account_history</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>The default plugins in <cite>config.ini</cite> have a “#” symbol and need to be deleted;</li>
<li>The default plugins configuration is <cite>witness account_history market_history</cite>, where <cite>market_history</cite> is actually removed;</li>
<li>If the configuration item is not found in config.ini, for example, it will not update the existing configuration file when    upgrading from an old version.
* You can add a line to the front of config.ini (don’t add it to the end of the file),
* You can also find an empty directory to generate a config.ini file and edit it again.</li>
</ul>
<p>4) The following parameters indicate how many history records are kept for each account. The default value is 1000.
For exchanges, if you have more depossit and withdrawal records, consider setting a larger value, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span><span class="o">-</span><span class="n">ops</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">account</span> <span class="o">=</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>change into:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span><span class="o">-</span><span class="n">ops</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">account</span> <span class="o">=</span> <span class="mi">1000000</span>
</pre></div>
</div>
<p>It will retain one million data. Earlier data is deleted from memory and cannot be queried quickly (but still recorded on the chain).</p>
<ol class="arabic" start="5">
<li><p class="first">The following two parameters will greatly reduce the memory required for the operation, the principle is not to save the historical data index which is not related to the exchange account.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="o">=</span> <span class="s2">&quot;1.2.12345&quot;</span>
<span class="n">partial</span><span class="o">-</span><span class="n">operations</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
</li>
</ol>
<p>Please replace 12345 with your account’s digital ID. The “1.2.” before the number indicates that the type is an account.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default track-account in config.ini has a “#” symbol and needs to be deleted.</p>
</div>
<p>If you need to monitor multiple accounts, use multiple <cite>track-account</cite> configurations, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="o">=</span> <span class="s2">&quot;1.2.12345&quot;</span>
<span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="o">=</span> <span class="s2">&quot;1.2.12346&quot;</span>
<span class="n">partial</span><span class="o">-</span><span class="n">operations</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<p>Currently, there is a BUG. The configuration of multiple track-accounts will cause the above log changes to not take effect.</p>
<p>The way to get around this problem is not to move config.ini , but to start witness_node, add the –track-account parameter after the command line, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">witness_node</span> <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12345</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12346</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>The first and last quotes of the parameter need to be preserved, so escape using <a href="#id1"><span class="problematic" id="id2">`</span></a>`. Linux can use double quotation marks plus a single quotation mark, which does not require escaping.</li>
<li>If you need to add, modify or delete the tracking account, after the modification, you need to rebuild the index to take effect.</li>
</ul>
<p>To do this, press <cite>Ctrl + C</cite> to end the program and restart it with the <cite>–replay-blockchain</cite> parameter, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">witness_node</span> <span class="o">-</span><span class="n">d</span> <span class="n">witness_node_data_dir</span> <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12345</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12346</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">--</span><span class="n">replay</span><span class="o">-</span><span class="n">blockchain</span>
</pre></div>
</div>
<ul class="simple">
<li>See more information about <span class="xref std std-ref">Memory Reduction for Nodes &gt;memory-nodes&gt;</span>.</li>
</ul>
<p>5.1.2 Re-execution</p>
<p>Start witness_node again and start synchronizing data. Depending on the network conditions and server hardware conditions, initial synchronization may take several hours to several days.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">witness_node</span> <span class="o">-</span><span class="n">d</span> <span class="n">witness_node_data_dir</span> <span class="o">--</span><span class="n">rpc</span><span class="o">-</span><span class="n">endpoint</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span>
                                        <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12345</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
                                        <span class="o">--</span><span class="n">track</span><span class="o">-</span><span class="n">account</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">1.2.12346</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
                                        <span class="o">--</span><span class="n">partial</span><span class="o">-</span><span class="n">operations</span> <span class="n">true</span>
                                        <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">ops</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">account</span> <span class="mi">1000000</span>
                                        <span class="o">--</span><span class="n">replay</span><span class="o">-</span><span class="n">blockchain</span>
</pre></div>
</div>
<p>In the above command, use <cite>–rpc-endpoint</cite> to enable the node API service so that you can use cli_wallet to connect with other programs.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When you need to restart the witness_node later, generally do not add the <code class="docutils literal notranslate"><span class="pre">--replay-blockchain</span></code> parameter, otherwise startup will be slow</p>
</div>
<p>5.2 Running a cli_wallet to Process Cash Out:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">cli_wallet</span> <span class="o">-</span><span class="n">w</span> <span class="n">wallet_for_withdrawal</span><span class="o">.</span><span class="n">json</span> <span class="o">-</span><span class="n">s</span> <span class="n">ws</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span> <span class="o">-</span><span class="n">H</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8091</span>
</pre></div>
</div>
<p>The above command uses the <cite>-w</cite> parameter to specify the wallet file, the <cite>-s</cite> parameter connects to the witness_node, and the <cite>-H</cite> parameter opens the wallet API service, listening on port 8091</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>You can use <cite>./cli_wallet –help</cite> to see the command parameters.</li>
<li>The data communicated between the <cite>cli_wallet</cite> and the <cite>witness_node</cite> does not contain private data. Generally, no encryption is needed and no deliberate protection is required for the RPC port of the node (it is not necessary to add a layer of protection).</li>
<li>However, the communication between cli_wallet and the deposit program is in plain text and may need to include the password. If the deployment is a multi-machine architecture, you need to pay attention to encryption and use SSH tunneling.</li>
<li>In addition, when the cli_wallet is in the unlocked state, the funds in the wallet account can be transferred through the RPC port. Care must be taken to prevent unauthorized access, and it is strongly recommended that the wallet RPC directly open public network access.</li>
<li>The practice of configuring certificates or passwords for the cli_wallet’s RPC has not been studied and is therefore not described.</li>
</ul>
<p>Successful execution will show:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new</span> <span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>First need to set a password for the wallet file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">new</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">set_password</span> <span class="n">my_password_1234</span>
</pre></div>
</div>
<p>Successful execution will show:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">locked</span> <span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Then unlock your wallet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">locked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">unlock</span> <span class="n">my_password_1234</span>
</pre></div>
</div>
<p>Successful unlocking will show:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Use the info command to view the current synchronization:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">info</span>
<span class="n">info</span>
<span class="p">{</span>
  <span class="s2">&quot;head_block_num&quot;</span><span class="p">:</span> <span class="mi">17249870</span><span class="p">,</span>
  <span class="s2">&quot;head_block_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0107364e2bf1c4ed1331ece4ad7824271e563fbb&quot;</span><span class="p">,</span>
  <span class="s2">&quot;head_block_age&quot;</span><span class="p">:</span> <span class="s2">&quot;23 seconds old&quot;</span><span class="p">,</span>
  <span class="s2">&quot;next_maintenance_time&quot;</span><span class="p">:</span> <span class="s2">&quot;31 minutes in the future&quot;</span><span class="p">,</span>
  <span class="s2">&quot;chain_id&quot;</span><span class="p">:</span> <span class="s2">&quot;4018d7844c78f6a6c41c6a552b898022310fc5dec06da467ee7905a8dad512c8&quot;</span><span class="p">,</span>
  <span class="s2">&quot;participation&quot;</span><span class="p">:</span> <span class="s2">&quot;96.87500000000000000&quot;</span><span class="p">,</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>5.3 Run another cli_wallet to handle deposit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">cli_wallet</span> <span class="o">-</span><span class="n">w</span> <span class="n">wallet_for_deposit</span><span class="o">.</span><span class="n">json</span> <span class="o">-</span><span class="n">s</span> <span class="n">ws</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span> <span class="o">-</span><span class="n">H</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8093</span>
</pre></div>
</div>
<p>This cli_wallet also opens the wallet API service listening on port 8093</p>
<p>Please refer to the previous section to set a password and unlock it.</p>
</div>
<hr class="docutils" />
<div class="section" id="account-settings">
<h2><a class="toc-backref" href="#id8">6. Account Settings</a><a class="headerlink" href="#account-settings" title="Permalink to this headline">¶</a></h2>
<p>Considering security, you can use two accounts to handle the deposit and withdrawal respectively. Here assume that deposit-account is used for depositing, and withdrawal-account is used for withdrawal.</p>
<p>6.1 Modifying the Remark Key of the Deposit Account</p>
<blockquote>
<div>Performing <cite>suggest_brain_key</cite> in any of the above cli_wallets will result in a pair of keys, an example of which is as follows:</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">suggest_brain_key</span>
<span class="n">suggest_brain_key</span>
<span class="p">{</span>
  <span class="s2">&quot;brain_priv_key&quot;</span><span class="p">:</span> <span class="s2">&quot;.....&quot;</span><span class="p">,</span>
  <span class="s2">&quot;wif_priv_key&quot;</span><span class="p">:</span> <span class="s2">&quot;5JxyJx2KyDmAx5kpkMthWEpqGjzpwtGtEJigSMz5XE1AtrQaZXu&quot;</span><span class="p">,</span>
  <span class="s2">&quot;pub_key&quot;</span><span class="p">:</span> <span class="s2">&quot;BTS69uKRvM8dAPn8En4SCi2nMTHKXt1rWrohFbwaPwv2rAbT3XFzf&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the light wallet, on the permission page, modify the memo (comment) key to <cite>pub_key</cite> in the above result.</p>
<p><strong>Note:</strong></p>
<ol class="arabic simple">
<li>Please pay attention to the backup light wallet after the change, otherwise the light wallet may not be able to decrypt the pre-modification comment.</li>
<li>After the change, if you still need to use a light wallet to make a transfer with a memo (note), or read a new transfer/transfer transfer note,</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>You need to import the above <cite>wif_priv_key</cite> into the light wallet.</li>
<li>You can make a new backup after importing.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>This method can also be used to modify the account’s active authority key and owner (account authority) key, which can be used when needed.</li>
</ol>
<p>6.2 Import Remark Key of Deposit Account into Cli_wallet Connected to Charge Deposit</p>
<p>If the wallet is locked, you need to unlock it with the <cite>unlock</cite> command.</p>
<p>Here we need to use <cite>wif_priv_key</cite> in the above <cite>suggest_brain_key</cite> result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">import_key</span> <span class="n">deposit</span><span class="o">-</span><span class="n">account</span> <span class="mi">5</span><span class="n">JxyJx2KyDmAx5kpkMthWEpqGjzpwtGtEJigSMz5XE1AtrQaZXu</span>
</pre></div>
</div>
<p>Cli_wallet will automatically generate one or two backup files when it is imported and can be deleted.</p>
<p>Then you can press <cite>Ctrl + D</cite> to exit the wallet, back up the wallet file <cite>wallet_for_deposit.json</cite>, and restart cli_wallet.</p>
<p>When you withdraw, you will report a mistake and leave it alone.</p>
<p>If compile time does not introduce the readline library, you need to exit with <code class="docutils literal notranslate"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">C</span></code></p>
<p>Since no active authority key was imported, the cli_wallet responsible for handling the deposit cannot use the funds of the deposit account and can only view the history record.</p>
<p>6.3 Obtaining the Active Authority Key of the Withdrawal Account from the Light Wallet</p>
<p>Reference: <a class="reference external" href="acc-permission">:ref:`User Guide - Permissions</a></p>
<p>6.4 Import the withdrawal account’s active authorization key into cli_wallet responsible for withdrawal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">import_key</span> <span class="n">withdrawal</span><span class="o">-</span><span class="n">account</span> <span class="mi">5</span><span class="n">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>
</pre></div>
</div>
<p>You can also make a backup of your wallet file.</p>
<p><strong>Note:</strong> Check whether the active authority key and the memo (comment) key of the withdrawal account are the same. If they are different, the memo (comment) key must also be imported. Otherwise, withdrawals with memo (notes) cannot be processed. The import command is still:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">import_key</span> <span class="n">withdrawal</span><span class="o">-</span><span class="n">account</span> <span class="mi">5</span><span class="n">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="wallet-command">
<h2><a class="toc-backref" href="#id9">7. Wallet Command</a><a class="headerlink" href="#wallet-command" title="Permalink to this headline">¶</a></h2>
<p>Cli_wallet,</p>
<ul>
<li><p class="first">Use the <cite>help</cite> command to list command lists and parameters</p>
</li>
<li><p class="first">If there is doxygen at compile time, use the <cite>gethelp</cite> command to get the parameter description and example of the specific command, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">gethelp</span> <span class="n">get_account</span>
</pre></div>
</div>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="wallet-api">
<h2><a class="toc-backref" href="#id10">8. Wallet API</a><a class="headerlink" href="#wallet-api" title="Permalink to this headline">¶</a></h2>
<p>When the wallet opens the HTTP RPC API service, all <strong>wallet commands can be invoked via http RPC. The effect is the same as entering the command in the wallet.</strong></p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;get_block&quot;, &quot;params&quot;: [1], &quot;id&quot;: 1}&#39;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8093</span><span class="o">/</span><span class="n">rpc</span>
</pre></div>
</div>
<p>That is: method incoming command name, params array passed to the list of parameters.</p>
<p>Return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
   <span class="s2">&quot;result&quot;</span><span class="p">:{</span>
          <span class="s2">&quot;previous&quot;</span><span class="p">:</span><span class="s2">&quot;0000000000000000000000000000000000000000&quot;</span><span class="p">,</span>
          <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span><span class="s2">&quot;2015-10-13T14:12:24&quot;</span><span class="p">,</span>
          <span class="s2">&quot;witness&quot;</span><span class="p">:</span><span class="s2">&quot;1.6.8&quot;</span><span class="p">,</span>
          <span class="s2">&quot;transaction_merkle_root&quot;</span><span class="p">:</span> <span class="s2">&quot;0000000000000000000000000000000000000000&quot;</span><span class="p">,</span>
          <span class="s2">&quot;extensions&quot;</span><span class="p">:</span> <span class="p">[],</span>
          <span class="s2">&quot;witness_signature&quot;</span><span class="p">:</span><span class="s2">&quot;1f53542bb60f1f7a653bac70d6b1613e73b9adc952031e30e591e601dd60d493ba5c9a832e155ff0c40ea1dd53512e9f93bf65a8191497ea67d701bc2502f93af7&quot;</span><span class="p">,</span>
          <span class="s2">&quot;transactions&quot;</span><span class="p">:</span> <span class="p">[],</span>
          <span class="s2">&quot;block_id&quot;</span><span class="p">:</span> <span class="s2">&quot;00000001b656820f72f6b28cda811778632d4998&quot;</span><span class="p">,</span>
          <span class="s2">&quot;signing_key&quot;</span><span class="p">:</span> <span class="s2">&quot;BTS6ZQEFsPmG6jWspNDdZHkehNmPpG7gkSHkphmRZQWaJ2LrcaVSi&quot;</span><span class="p">,</span>
          <span class="s2">&quot;transaction_ids&quot;</span><span class="p">:</span> <span class="p">[]</span>
          <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If the execution is successful, the result will be result, otherwise there will be an error.</p>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>The HTTP RPC request URI is /RPC .</li>
<li>Enter the command in the wallet and return the result is beautified; when using the HTTP RPC request, the original data in json format is returned. With regard to raw data, there are some things to note:</li>
<li>The amount is {“amount”:467116432,”asset_id”:”1.3.0”} format, where
* The <cite>asset_id</cite> can be found by the <cite>get_asset</cite> command. The <cite>asset_id</cite> of the BTS is 1.3.0. Other assets have other ids.
* amount is the value after the decimal point is removed. For example, BTS is <cite>5 decimal</cite> places. In the above example, it is actually 4671.16432 BTS.</li>
<li>The account is in the form of 1.2.xxxxx. Get account information via <cite>get_account</cite></li>
<li>Operation type (op) is a numeric format, such as 0 for transfer operation</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="deal-with-deposit">
<h2><a class="toc-backref" href="#id11">9. Deal with Deposit</a><a class="headerlink" href="#deal-with-deposit" title="Permalink to this headline">¶</a></h2>
<p>9.1 Obtaining the Current <em>Unable to Return Block</em> Number</p>
<p>The possibility of using Bitcoin and others to use the confirmation number to reduce the probability of a fallback in the transaction is different. In the BitShares, the <em>unreturnable block</em> number can be used to determine whether the transaction can be rolled back.</p>
<p><em>Unable to roll back</em> transactions in blocks and earlier blocks can be guaranteed not to roll back.</p>
<p>Use the command <code class="docutils literal notranslate"><span class="pre">get_dynamic_global_properties</span></code> in cli_wallet to get the <cite>block number</cite> that cannot be rolled back. Such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">get_dynamic_global_properties</span>
<span class="p">{</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2.1.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;head_block_number&quot;</span><span class="p">:</span> <span class="mi">21955727</span><span class="p">,</span>
  <span class="o">...</span>
  <span class="s2">&quot;last_irreversible_block_num&quot;</span><span class="p">:</span> <span class="mi">21955709</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Among them, <cite>head_block_number</cite> is the latest block number, and <cite>last_irreversible_block_num</cite> is the block number that cannot be rollback.</p>
<p>9.2 Querying Deposit Account History</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">get_relative_account_history</span></code> command to query the history of the deposit account and check for new deposits.</p>
<p>Such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_relative_account_history</span> <span class="n">deposit</span><span class="o">-</span><span class="n">account</span> <span class="mi">1</span> <span class="mi">100</span> <span class="mi">100</span>

<span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_relative_account_history</span> <span class="n">deposit</span><span class="o">-</span><span class="n">account</span> <span class="mi">101</span> <span class="mi">100</span> <span class="mi">200</span>

<span class="n">curl</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;get_relative_account_history&quot;, &quot;params&quot;: [&quot;deposit-account&quot;,1,100,100], &quot;id&quot;: 1}&#39;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span> <span class="mi">8093</span><span class="o">/</span><span class="n">rpc</span>
</pre></div>
</div>
<p>The four parameters are: account name, minimum number, maximum return number, and maximum number. Numbering starts with 1.</p>
<p><strong>Note:</strong>
There is a bug when the maximum number of cli_wallets returned in a certain version exceeds 100, resulting in inaccurate results. Please avoid using the limit to exceed 100.</p>
<p>The result is an array, sorted in reverse chronological order, with the most recent record at the top.
* If there is no new deposit (charge), the length of the array is 0.
* If there is a new record, where the Nth data is result[N], the format may be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;memo&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="s2">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;Transfer 1 BTS from a to b -- Unlock wallet to see memo. (Fee: 0.22941 BTS)&quot;</span><span class="p">,</span>
<span class="s2">&quot;op&quot;</span><span class="p">:{</span>
<span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;1.11.1234567&quot;</span><span class="p">,</span>
<span class="s2">&quot;op&quot;</span><span class="p">:[</span>
 <span class="mi">0</span><span class="p">,</span>
 <span class="p">{</span>
                <span class="s2">&quot;fee&quot;</span><span class="p">:{</span>
                         <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mi">22941</span><span class="p">,</span>
                         <span class="s2">&quot;asset_id&quot;</span><span class="p">:</span><span class="s2">&quot;1.3.0&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;1.2.12345&quot;</span><span class="p">,</span>
                <span class="s2">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;1.2.45678&quot;</span><span class="p">,</span>
                <span class="s2">&quot;amount&quot;</span><span class="p">:{</span>
                         <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
                         <span class="s2">&quot;asset_id&quot;</span><span class="p">:</span><span class="s2">&quot;1.3.0&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;memo&quot;</span><span class="p">:{</span>
                         <span class="s2">&quot;from&quot;</span><span class="p">:</span><span class="s2">&quot;BTS7NLcZJzqq3mvKfcqoN52ainajDckyMp5SYRgzicfbHD6u587ib&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;to&quot;</span><span class="p">:</span><span class="s2">&quot;BTS7SakKqZ8HamkTr7FdPn9qYxYmtSh2QzFNn49CiFAkdFAvQVMg6&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;nonce&quot;</span><span class="p">:</span> <span class="s2">&quot;5333758904325274680&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;0b809fa8169453422343434366514a153981ea&quot;</span>
                <span class="p">},</span>
                <span class="s2">&quot;extensions&quot;</span><span class="p">:[</span>
                <span class="p">]</span>
 <span class="p">}</span>
<span class="p">],</span>
<span class="s2">&quot;result&quot;</span><span class="p">:[</span>
 <span class="mi">0</span><span class="p">,</span>
 <span class="p">{</span>
 <span class="p">}</span>
<span class="p">],</span>
<span class="s2">&quot;block_num&quot;</span><span class="p">:</span><span class="mi">1234567</span><span class="p">,</span>
<span class="s2">&quot;trx_in_block&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span>
<span class="s2">&quot;op_in_trx&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="s2">&quot;virtual_op&quot;</span><span class="p">:</span><span class="mi">1234</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Visible, the result does not explicitly include the number of each record, the need for the program to calculate, record. It is usually reversed the order of the array, and then it is more appropriate to deal with one by one.</p>
<p>First of all, we must determine whether the block where the transaction is located cannot be rolled back.</p>
<ul class="simple">
<li>Take result[N][“op”][“block_num”] is compared with <cite>last_irreversible_block_num</cite>. If it can’t be rolled back, continue processing. If you can roll back, skip skipping.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When the transaction does not enter the block, it may still appear in <cite>get_relative_account_history</cite>, and the block number where it is located will always change, making it difficult to determine the status.</p>
</div>
<p>So use <cite>last_irreversible_block_num</cite> to determine.</p>
<ul class="simple">
<li>Result[N][“op”][“op”] is an array format, taking the first element of the array result[N][“op”][“op”][0] , and if it is 0, it means transfer ;</li>
<li>Then you can use the <cite>to</cite> field in the second element, ie result[N][“op”][“op”][1][“to”], to determine if it is the same as the deposit-account ID. Whether to transfer;</li>
<li>If yes, then take the <cite>asset_id</cite> field result[N][“op”][“op”][1][“amount”][“asset_id”] in the <cite>amount</cite> field in the second field to determine if the asset is correct Types of,</li>
<li>Then take <cite>amount</cite> in <cite>amount</cite>, that is, result[N][“op”][“op”][1][“amount”][“amount”], add the decimal places, and get the amount of recharge ;</li>
<li>Take the outermost <cite>memo</cite> field, which is result[N][“memo”] , to get the <cite>user’s ID</cite> on the exchange and enter it.</li>
<li>Result[N][“op”][“id”] is the unique ID of this transfer and can be recorded for future reference.</li>
<li>At the same time, it is recommended to record several data of <cite>block_num</cite>, <cite>trx_in_block</cite>, and <cite>op_in_trx</cite> in the result, which means the number of the block, the number of transactions in the block, and the number of operations in the transaction.</li>
</ul>
<p>In addition, due to other transfers, it may only record the transaction ID (hashed value), or transaction signature, without recording the operation ID or block number.</p>
<p>In order to facilitate the inspection of the problem, it is recommended to record the <cite>transaction ID</cite> and <cite>transaction signature</cite> corresponding to the operation at the time of recharge detection as follows:</p>
<p>According to the above <cite>block_num</cite>, call the <cite>get_block</cite> command to get the contents of the block, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_block</span> <span class="mi">16000000</span>

<span class="n">curl</span> <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;get_block&quot;, &quot;params&quot;: [160000], &quot;id&quot;: 1}&#39;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8093</span><span class="o">/</span><span class="n">rpc</span>
</pre></div>
</div>
<p>Let the result block be result , according to the above <cite>trx_in_block</cite>,</p>
<ul class="simple">
<li>Take result[“transaction_ids”][trx_in_block] is the corresponding <cite>transaction ID</cite>;</li>
<li>Take result[“transactions”][trx_in_block][“signatures”] , which is a signature for the transaction. It is an array because multi-signature account transfers may contain multiple signatures.</li>
</ul>
<p><strong>Note:</strong></p>
<ol class="arabic simple">
<li>The wallet must be unlocked before decrypting the memo.</li>
<li>If it is detected that there are refills with incorrect remarks, or if the asset type is incorrect, be careful not to return it simply because it may have been transferred from other exchanges and it will be very troublesome for the other party to deal with it after repatriation.</li>
<li>There may be more than one deposit in a block. The result is that block_num is the same. It may even be the same for trx_in_block and op_in_trx, but virtual_op is different.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>It is certain that the combination of blocknum + trx_in_block + op_in_trx + vitrual_op is unique.</li>
<li>It is also worth noting here that the data of virtual_op currently has a BUG. If the parameters are not the same and replay every time you restart the device, and you check the historical data again, you will find that this value will be inconsistent.</li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>Due to the “Proposal” function, it is possible to postpone execution. When using get_block and then positioning with trx_in_block, the corresponding transaction may not be available, or the acquired transaction does not correspond to the recharge operation.</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>Delayed execution function is rarely used, but theoretically, please pay attention to error handling.</li>
</ul>
</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="processing-withdrawals">
<h2><a class="toc-backref" href="#id12">10. Processing Withdrawals</a><a class="headerlink" href="#processing-withdrawals" title="Permalink to this headline">¶</a></h2>
<p>10.1 Network Status Check</p>
<p>For security reasons, withdrawals are processed only when the witness_node network is normal.</p>
<p>Use the info command in the cli_wallet responsible for withdrawal to check the network status.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">info</span>
<span class="n">info</span>
<span class="p">{</span>
  <span class="s2">&quot;head_block_num&quot;</span><span class="p">:</span> <span class="mi">17249870</span><span class="p">,</span>
  <span class="s2">&quot;head_block_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0107364e2bf1c4ed1331ece4ad7824271e563fbb&quot;</span><span class="p">,</span>
  <span class="s2">&quot;head_block_age&quot;</span><span class="p">:</span> <span class="s2">&quot;23 seconds old&quot;</span><span class="p">,</span>
  <span class="s2">&quot;next_maintenance_time&quot;</span><span class="p">:</span> <span class="s2">&quot;31 minutes in the future&quot;</span><span class="p">,</span>
  <span class="s2">&quot;chain_id&quot;</span><span class="p">:</span> <span class="s2">&quot;4018d7844c78f6a6c41c6a552b898022310fc5dec06da467ee7905a8dad512c8&quot;</span><span class="p">,</span>
  <span class="s2">&quot;participation&quot;</span><span class="p">:</span> <span class="s2">&quot;96.87500000000000000&quot;</span><span class="p">,</span>
  <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The fields to check are:
* head_block_age is best within 1 minute
* The best participation is 80 or more, which means that 80% of the out-of-block nodes in the network connected to the witness_node are working properly</p>
<p>In addition, when the network is normal, the difference between last_irreversible_block_num and head_block_num is not too large (generally less than 30);
This can be used as a reference.</p>
<p>10.2 Cash withdrawal account balance check</p>
<p>Use the list_account_balances command to check whether the withdrawal account balance is sufficient (pay attention to the asset type and calculate the fee):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">list_account_balances</span> <span class="n">withdrawal</span><span class="o">-</span><span class="n">account</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ol class="arabic simple">
<li>Pay attention to asset type</li>
<li>Pay attention to handling fees. Because the remarks are based on length, the handling fee with remarks will be higher than without remarks.</li>
</ol>
<p>10.3 Checking the Purpose of the Name of the Account</p>
<p>Use the get_account_id command to check whether the customer’s withdrawal account is valid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">locked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_account_id</span> <span class="n">test</span><span class="o">-</span><span class="mi">123</span>
<span class="n">get_account_id</span> <span class="n">test</span><span class="o">-</span><span class="mi">123</span>
<span class="s2">&quot;1.2.96698&quot;</span>

<span class="n">locked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_account_id</span> <span class="n">test</span><span class="o">-</span><span class="mi">124</span>
<span class="n">get_account_id</span> <span class="n">test</span><span class="o">-</span><span class="mi">124</span>
<span class="mi">10</span> <span class="n">assert_exception</span><span class="p">:</span> <span class="n">Assert</span> <span class="ne">Exception</span>
<span class="n">rec</span> <span class="o">&amp;&amp;</span> <span class="n">rec</span><span class="o">-&gt;</span><span class="n">name</span> <span class="o">==</span> <span class="n">account_name_or_id</span><span class="p">:</span>
    <span class="p">{}</span>
    <span class="n">th_a</span>  <span class="n">wallet</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">597</span> <span class="n">get_account</span>
</pre></div>
</div>
<p>10.4 Sending Cash Out</p>
<p>Use the transfer2 command to send a withdrawal transaction. Such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">transfer2</span> <span class="n">withdrawal</span><span class="o">-</span><span class="n">account</span> <span class="n">to</span><span class="o">-</span><span class="n">account</span> <span class="mi">100</span> <span class="n">BTS</span> <span class="s2">&quot;some memo&quot;</span>
</pre></div>
</div>
<p>The parameters are: source account name, destination account name, amount, currency, remarks</p>
<p>The command will sign and broadcast the transaction and return an array. The first element is the transaction id and the second element is the detailed transaction content.</p>
<p><strong>Note:</strong></p>
<ol class="arabic simple">
<li>If the currency is BTS, the number of decimal places is up to 5 digits. If it is other assets, you can view the decimal places of the asset with the <cite>precision</cite> field with the get_asset command.</li>
<li>You can also use the transfer command, but this does not directly return the transaction ID. Instead, it needs to call another API to calculate it, so it is not recommended.</li>
<li>Remarks are usually encoded in UTF-8</li>
<li>It is recommended to record relevant data for future reference, such as transaction id, detailed transaction content in json format, etc.</li>
</ol>
<p>10.5 Withdrawal Results Check</p>
<p>Use the get_relative_account_history command to obtain withdrawal history of withdrawal-account. Refer to the deposit processing section. If new records are found,</p>
<p>And the transaction’s block number is earlier than <cite>last_irreversible_block_num</cite>, indicating that the transaction has entered the block and cannot be rolled back;</p>
<p><strong>Note:</strong></p>
<p>When the transaction does not enter the block, it may still appear in <cite>get_relative_account_history</cite>, and the block number where it is located will always change, making it difficult to determine the status. So use <cite>last_irreversible_block_num</cite> to determine.</p>
<p>Use the <cite>get_block</cite> command to query details based on the block_num field of the record:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unlocked</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">get_block</span> <span class="mi">12345</span>
</pre></div>
</div>
<p>In the returned result, the <cite>transaction_ids</cite> field data should contain the previous <cite>transaction id</cite>.</p>
<p>It is recommended to record the <cite>id (1.11.x)</cite>, <cite>block_num</cite>, and <cite>trx_in_block</cite> in the above result of <cite>get_relative_account_history</cite> for future reference.</p>
<p>10.6 About Resend Failure</p>
<p>In some cases, after the transaction may be sent, it is not packaged into the block in time.</p>
<p>Unlike Bitcoin, there is a timeout in the BTS transaction.</p>
<p>When using cli_wallet to sign a broadcast transaction, this field value defaults to the local system time plus 2 minutes.</p>
<p>When the number of local deals is particularly high, the timeout period will increase.</p>
<p>If, after the network time reaches the timeout, the transaction is still not packed into the block, the transaction is discarded by all network nodes and is no longer likely to be packed.</p>
<p>Therefore, if a transaction broadcast appears but does not appear in the account history, first check if the local system time logs.</p>
<ul class="simple">
<li>If the block time corresponding to <cite>last_irreversible_block_num</cite> has passed the timeout of the transaction, retransmission is safe.</li>
<li>If the transaction has already appeared in history, check if the block number of the transaction is fixed, instead of always updating with the latest block number.</li>
<li>If the exchange’s block number is updated, it indicates that the transaction has not been packed into the block and it needs to wait patiently for being packaged or timeout</li>
<li>If the block number is fixed, the <cite>last_irreversible_block_num</cite> will soon exceed the block number when the network is normal over time.</li>
<li>If <cite>head_block_num</cite> keeps growing, and <cite>last_irreversible_block_num</cite> doesn’t grow,
* It is likely that the witness_node has entered a short branching chain, or there is a problem with the network, and the transaction cannot be fully confirmed.
* In this case, check if there is a new version of the witness_node to be upgraded or contact the development team.</li>
<li>If the retransmission still cannot be packaged, you may encounter network abnormalities or congestion. This is relatively rare. Please contact the development team.</li>
</ul>
</div>
<div class="section" id="others">
<h2><a class="toc-backref" href="#id13">11. Others</a><a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">cli_wallet has a parameter <cite>–daemon</cite> , which will run in the background when started with this parameter</p>
</li>
<li><p class="first">When you need to close the witness_node, press <cite>Ctrl C</cite> once and wait for the program to exit.
* After the normal exit, when restarting, no need to rebuild the index, the startup will be faster
* After the normal exit, the data directory witness_node_data_dir can be backed up, and can be used directly when needed.
* If you quit abnormally, when restarting, it is very likely that you need to rebuild the index and start slower.</p>
</li>
<li><p class="first">If the witness_node is abnormal, generally try to restart it first. If it is not, you can try to restart it with the <cite>–replay-blockchain</cite> parameter, that is, manually trigger rebuilding the index.
* If not resolved, use backup recovery
* If there is no backup, re-synchronization may take longer</p>
</li>
<li><p class="first">Multi-signature: BitShares natively supports account-level multi-signature, and there is a proposal-approval mechanism that can initiate multi-signature requests online and then confirm the completion of multi-signature transactions. Refer to related tutorials</p>
</li>
<li><p class="first">Hardware Wallet: No Support</p>
</li>
<li><p class="first">Cold Storage: Can be implemented, the steps are somewhat complicated, examples:
* On offline machines, start witness_node and cli_wallet and use the suggest_brain_key command to generate the key pair offline;
* Then use the light wallet to change the account key to the above key, then the account goes into cold storage
* When you need to use a cold deposit account,</p>
<blockquote>
<div><ul class="simple">
<li>You can use the temporary heating method, that is, import the private key into the light wallet, use it and then replace it with a new one</li>
<li>Pure cold mode can also be achieved, but the current cli_wallet support is not good, if necessary, please contact alone</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="related-information">
<h2><a class="toc-backref" href="#id14">12. Related information</a><a class="headerlink" href="#related-information" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Graphic tutorial <a class="reference external" href="http://jc.btsabc.org/">http://jc.btsabc.org/</a>
* Self-built node tutorial <a class="reference external" href="http://btsabc.org/article-477-1.html">http://btsabc.org/article-477-1.html</a>
* Get account private key <a class="reference external" href="http://btsabc.org/article-761-1.html">http://btsabc.org/article-761-1.html</a></li>
<li>English Docking Documents <a class="reference external" href="http://docs.bitshares.org/integration/exchanges/step-by-step.html">http://docs.bitshares.org/integration/exchanges/step-by-step.html</a></li>
<li>English API Documentation <a class="reference external" href="http://docs.bitshares.org/api/index.html">http://docs.bitshares.org/api/index.html</a></li>
</ul>
<hr class="docutils" />
<ul class="simple">
<li>Contributor: &#64;abit</li>
</ul>
<p>(ref)</p>
<p>This information originates [abitmore/bts-cn-docs](<a class="reference external" href="https://github.com/abitmore/bts-cn-docs/blob/master/BTS%E4%BA%A4%E6%98%93%E6%89%80%E5%AF%B9%E6%8E%A5%E6%8C%87%E5%8D%97%EF%BC%88%E5%8D%95%E8%8A%82%E7%82%B9%E7%89%88%EF%BC%89.txt">https://github.com/abitmore/bts-cn-docs/blob/master/BTS%E4%BA%A4%E6%98%93%E6%89%80%E5%AF%B9%E6%8E%A5%E6%8C%87%E5%8D%97%EF%BC%88%E5%8D%95%E8%8A%82%E7%82%B9%E7%89%88%EF%BC%89.txt</a>) repository.</p>
<p><em>(Translated by an application and adjusted by human. Some words might not be accurate.)</em></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright BitShares Blockchain Foundation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>