

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Build BitShares-Core with Visual Studio 2015 &mdash; BItShares Developers Portal  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CLI-Wallet on Windows (x64)" href="windows_cli_tool.html" />
    <link rel="prev" title="Building on OS X" href="build_osx.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> BItShares Developers Portal
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/architectures.html">Introduction &amp; Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/environments.html">Development Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/components.html">System Components Elements</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../installation.html">Getting Started</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../installation.html#installation">Installation</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../installation.html#download-and-build">Download and Build</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="build_ubuntu.html">Building on Ubuntu</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_osx.html">Building on OS X</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Build BitShares-Core with Visual Studio 2015</a></li>
<li class="toctree-l4"><a class="reference internal" href="windows_cli_tool.html">CLI-Wallet on Windows (x64)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#build-and-run-bitshares-core-in-wsl-installation-option">Build and Run BitShares-Core in WSL (Installation Option)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#known-issues">Known issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/accounts/bts_account.html">BitShares Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interaction.html">Blockchain Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testnets.html">Testnets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bsip.html">BitShares Improvement Proposal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supports_dev/supports.html">Support and Optimizations</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_about.html">1. API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/restrictions.html">2. API Access and Restrictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/calls.html">3. Available Calls, Object, and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/blockchain_api.html">4. Blockchain API(s)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/wallet_api.html">5. Wallet API - Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/objects_ids.html">6. Objects and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/namespaces.html">7. Graphene - Namespaces</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/tutorials/index.html">Developer Guide (Tutorials)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/index_faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html">BitShares Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html#bitshares-blockchain">BitShares Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html">BitShares Developers’ Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html#articles">Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/githubrepo.html">BitShares Repositories</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BItShares Developers Portal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../installation.html">Getting Started</a> &raquo;</li>
        
      <li>Build BitShares-Core with Visual Studio 2015</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-bitshares-core-with-visual-studio-2015">
<span id="build-windows"></span><h1>Build BitShares-Core with Visual Studio 2015<a class="headerlink" href="#build-bitshares-core-with-visual-studio-2015" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#environmental-preparation" id="id11">Environmental preparation</a><ul>
<li><a class="reference internal" href="#setup-visual-studio-2015-with-update-1" id="id12">Setup Visual Studio 2015 with Update 1</a></li>
<li><a class="reference internal" href="#download-software-and-tools" id="id13">Download Software and Tools</a></li>
<li><a class="reference internal" href="#build-the-library-dependencies" id="id14">Build the Library Dependencies</a></li>
<li><a class="reference internal" href="#bitshares-core" id="id15">BitShares-Core</a></li>
<li><a class="reference internal" href="#set-up-the-environment-for-build" id="id16">Set up the Environment for Build</a></li>
<li><a class="reference internal" href="#visual-studio" id="id17">Visual Studio</a></li>
<li><a class="reference internal" href="#others" id="id18">Others</a></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="environmental-preparation">
<h2><a class="toc-backref" href="#id11">Environmental preparation</a><a class="headerlink" href="#environmental-preparation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>64-bit Windows systems, such as Windows Server 2012 R2 Standard edition</li>
<li>Visual Studio 2015 with Update 1 (<em>our test Completed successfully</em>)</li>
</ul>
<div class="section" id="setup-visual-studio-2015-with-update-1">
<h3><a class="toc-backref" href="#id12">Setup Visual Studio 2015 with Update 1</a><a class="headerlink" href="#setup-visual-studio-2015-with-update-1" title="Permalink to this headline">¶</a></h3>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>Known Issue: <a class="reference external" href="https://github.com/bitshares/bitshares-core/issues/389">There is a problem compiling with VS 2015 Update 3</a></p>
<ul class="simple">
<li><strong>Download Visual Studio 2015 Update 1</strong></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">microsoft</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="o">/</span><span class="n">A</span><span class="o">/</span><span class="mi">57</span><span class="n">A99666</span><span class="o">-</span><span class="mf">126E-42</span><span class="n">FA</span><span class="o">-</span><span class="mf">8E70</span><span class="o">-</span><span class="mi">862</span><span class="n">EDBADD215</span><span class="o">/</span><span class="n">vs2015</span><span class="o">.</span><span class="mf">1.</span><span class="n">com_enu</span><span class="o">.</span><span class="n">iso</span>
<span class="n">Visual</span> <span class="n">Studio</span> <span class="n">Community</span> <span class="mi">2015</span> <span class="k">with</span> <span class="n">Update</span> <span class="mi">1</span> <span class="p">(</span><span class="n">x86</span> <span class="ow">and</span> <span class="n">x64</span><span class="p">)</span> <span class="o">-</span> <span class="n">DVD</span> <span class="p">(</span><span class="n">English</span><span class="p">)</span>
<span class="n">SHA1</span><span class="p">:</span> <span class="n">FB5AE6B57BDC495AFB29646AFCA088756363A263</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>Virtual Drive Software to Load the above iso Files</strong></li>
</ul>
<blockquote>
<div><p>If you do not have a virtual drive software, you can use WinCDEmu;</p>
<ul class="simple">
<li>Download from here: <a class="reference external" href="http://wincdemu.sysprogs.org/download/">http://wincdemu.sysprogs.org/download/</a></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Installing Visual Studio 2015 Update 1</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Select C++ when installing</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="download-software-and-tools">
<h3><a class="toc-backref" href="#id13">Download Software and Tools</a><a class="headerlink" href="#download-software-and-tools" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Active perl</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Download and install</li>
</ul>
<p>If you do not have <cite>perl</cite> software in your machine, install it. You’ll need it later.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">activestate</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">activeperl</span><span class="o">/</span><span class="n">downloads</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><strong>NASM</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Download and install NASM</li>
</ul>
<p>If you do not install NASM, compiling OpenSSL will report errors that ml64 could not find (although there are other ways to resolve it, not described here).:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">nasm</span><span class="o">.</span><span class="n">us</span><span class="o">/</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">nasm</span><span class="o">.</span><span class="n">us</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">nasm</span><span class="o">/</span><span class="n">releasebuilds</span><span class="o">/</span><span class="mf">2.13</span><span class="o">.</span><span class="mi">01</span><span class="o">/</span><span class="n">win64</span><span class="o">/</span><span class="n">nasm</span><span class="o">-</span><span class="mf">2.13</span><span class="o">.</span><span class="mi">01</span><span class="o">-</span><span class="n">installer</span><span class="o">-</span><span class="n">x64</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><strong>OpenSSL</strong></li>
</ul>
<blockquote>
<div><p>BitShares Core depends on OpenSSL version 1.0.1 or 1.0.2, and you must build this from source. This article uses 1.0.1u as an example. Cannot use OpenSSL 1.1.0.</p>
<p><em>References</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">p</span><span class="o">-</span><span class="n">nand</span><span class="o">-</span><span class="n">q</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">programming</span><span class="o">/</span><span class="n">windows</span><span class="o">/</span><span class="n">building_openssl_with_visual_studio_2013</span><span class="o">.</span><span class="n">html</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">developer</span><span class="o">.</span><span class="n">covenanteyes</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">building</span><span class="o">-</span><span class="n">openssl</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">visual</span><span class="o">-</span><span class="n">studio</span><span class="o">/</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">npcglib</span><span class="o">.</span><span class="n">org</span><span class="o">/~</span><span class="n">stathis</span><span class="o">/</span><span class="n">blog</span><span class="o">/</span><span class="n">precompiled</span><span class="o">-</span><span class="n">openssl</span><span class="o">/</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">blog</span><span class="o">.</span><span class="n">csdn</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">fireroll</span><span class="o">/</span><span class="n">article</span><span class="o">/</span><span class="n">details</span><span class="o">/</span><span class="mi">51242518</span>
</pre></div>
</div>
<p><strong>Note:</strong> Although some of the above links provide compiled OpenSSL libraries for download, I encountered problems in the process of using them, and finally I solved them from the source code.</p>
<ul>
<li><p class="first">Download OpenSSL Source Code from;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">openssl</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">source</span><span class="o">/</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">openssl</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">2</span><span class="n">l</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
  <span class="ow">or</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">openssl</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">old</span><span class="o">/</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</li>
<li><p class="first">Decompression to the base directory <a href="#id3"><span class="problematic" id="id4">`</span></a>C:bts`.</p>
</li>
<li><p class="first">the source code directory is <cite>C:btsopenssl-1.0.1u</cite> (do not have multiple nested directories)</p>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Boost</strong></li>
</ul>
<blockquote>
<div><p>BitShares Core depends on the Boost libraries, only version 1.57 ~ 1.60. 1.57.0 is used here. ( 1.60 encountered a command line parameter parsing problem)</p>
<ul>
<li><p class="first">Download OpenSSL Source Code from;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">boost</span><span class="o">.</span><span class="n">org</span><span class="o">/</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">boost</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">boost</span><span class="o">/</span><span class="mf">1.57</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">sourceforge</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">boost</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">boost</span><span class="o">/</span><span class="mf">1.57</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">boost_1_57_0</span><span class="o">.</span><span class="n">zip</span><span class="o">/</span><span class="n">download</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Note:</strong> The compiled library is also available for download on the Internet, but I have encountered problems in downloading and using it. Later, I solved it through my own compilation.</p>
<ul class="simple">
<li>Extract (unzip) the source code to the base directory <a href="#id5"><span class="problematic" id="id6">`</span></a>C:bts`.</li>
<li>the source code directory is <cite>C:btsboost_1_57_0</cite> (do not have multiple nested directories)</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>CMake</strong></li>
</ul>
<blockquote>
<div><ul>
<li><p class="first">Download the CMake from;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">cmake</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">download</span><span class="o">/</span>
<span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">cmake</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">v3</span><span class="o">.</span><span class="mi">9</span><span class="o">/</span><span class="n">cmake</span><span class="o">-</span><span class="mf">3.9</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="n">win64</span><span class="o">-</span><span class="n">x64</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><p class="first">Extract (unzip) the source code to the base directory <a href="#id7"><span class="problematic" id="id8">`</span></a>C:bts`.</p>
</li>
<li><p class="first">the source code directory is <cite>C:btscmake-3.9.4-win64-x64</cite> (do not have multiple nested directories)</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="build-the-library-dependencies">
<h3><a class="toc-backref" href="#id14">Build the Library Dependencies</a><a class="headerlink" href="#build-the-library-dependencies" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Build OpenSSL DLLs</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Run <strong>VS2015 x64 Native Tools Command Prompt</strong></li>
</ul>
<p><strong>Note:</strong> It is actually a shortcut, here: C:ProgramDataMicrosoftWindowsStart MenuProgramsVisual Studio 2015Visual Studio ToolsWindows Desktop Command Prompts.  Content is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">comspec</span><span class="o">%</span> <span class="o">/</span><span class="n">k</span> <span class="s2">&quot;&quot;</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span> <span class="p">(</span><span class="n">x86</span><span class="p">)</span>\<span class="n">Microsoft</span> <span class="n">Visual</span> <span class="n">Studio</span> <span class="mf">14.0</span>\<span class="n">VC</span>\<span class="n">vcvarsall</span><span class="o">.</span><span class="n">bat</span><span class="s2">&quot;&quot;</span> <span class="n">amd64</span>
</pre></div>
</div>
<ul class="simple">
<li>Execute the following command in the open command line interface</li>
</ul>
<p><strong>Please modify the actual directory according to the actual situation.</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">PATH</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Program</span> <span class="n">Files</span>\<span class="n">NASM</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>

<span class="n">c</span><span class="p">:</span>
<span class="n">cd</span> <span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>\<span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span>
<span class="n">perl</span> <span class="n">Configure</span> <span class="n">VC</span><span class="o">-</span><span class="n">WIN64A</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>\<span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">static</span>
<span class="n">ms</span>\<span class="n">do_win64a</span>
<span class="n">nmake</span> <span class="o">-</span><span class="n">f</span> <span class="n">ms</span>\<span class="n">nt</span><span class="o">.</span><span class="n">mak</span>
<span class="n">nmake</span> <span class="o">-</span><span class="n">f</span> <span class="n">ms</span>\<span class="n">nt</span><span class="o">.</span><span class="n">mak</span> <span class="n">install</span>
</pre></div>
</div>
<ul class="simple">
<li>After the compilation is completed, a <cite>C:btsopenssl-1.0.1u-x64-release-static</cite> directory will be generated, which is a compiled library file.</li>
</ul>
<p><strong>Problems encountered and solutions:</strong></p>
<ul class="simple">
<li>If the problem of NASM cannot be found due to PATH, after adding PATH, you need to execute the nmake clean command to clear the temporary file generated before, or delete the source code and unzip it again.</li>
</ul>
<blockquote>
<div>Then start the compilation step from scratch, otherwise you will encounter the problem that the asm temporary file is empty.</div></blockquote>
<ul class="simple">
<li><a class="reference external" href="https://stackoverflow.com/questions/31595869/how-to-resolve-the-module-machine-type-x86-conflicts-with-target-machine-type">https://stackoverflow.com/questions/31595869/how-to-resolve-the-module-machine-type-x86-conflicts-with-target-machine-type</a></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Build Boost</strong></li>
</ul>
<blockquote>
<div><ul>
<li><p class="first">Run <strong>VS2015 x64 Native Tools Command Prompt</strong> and execute the below commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">:</span>
<span class="n">cd</span> <span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>\<span class="n">boost_1_57_0</span>
<span class="n">bootstrap</span>
<span class="n">b2</span> <span class="n">architecture</span><span class="o">=</span><span class="n">x86</span> <span class="n">address</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="mi">64</span> <span class="o">--</span><span class="n">build</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="n">complete</span> <span class="o">--</span><span class="n">toolset</span><span class="o">=</span><span class="n">msvc</span><span class="o">-</span><span class="mf">14.0</span> <span class="o">--</span><span class="n">threading</span><span class="o">=</span><span class="n">multi</span> <span class="o">--</span><span class="n">variant</span><span class="o">=</span><span class="n">release</span> <span class="n">release</span> <span class="n">stage</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Doxygen (optional)</strong></li>
</ul>
<blockquote>
<div><p>Doxygen is not required. Its usefulness is to generate documentation and online help. For example, in cli_wallet, you can use the gethelp command to see the parameter description of the command.</p>
<ul>
<li><p class="first">Download Doxygen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">nl</span><span class="o">/~</span><span class="n">dimitri</span><span class="o">/</span><span class="n">doxygen</span><span class="o">/</span><span class="n">download</span><span class="o">.</span><span class="n">html</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">ftp</span><span class="o">.</span><span class="n">stack</span><span class="o">.</span><span class="n">nl</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">dimitri</span><span class="o">/</span><span class="n">doxygen</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mf">13.</span><span class="n">windows</span><span class="o">.</span><span class="n">x64</span><span class="o">.</span><span class="n">bin</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><p class="first">Extract it to <cite>C:btsdoxygen-1.8.13.windows.x64.bin</cite> (do not have multiple nested directories)</p>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>Git</strong></li>
</ul>
<blockquote>
<div><ul>
<li><p class="first">Download and install git:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Https</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="o">-</span><span class="n">scm</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">win</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="bitshares-core">
<h3><a class="toc-backref" href="#id15">BitShares-Core</a><a class="headerlink" href="#bitshares-core" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Download and Install BitShares-Core Source code</strong></li>
</ul>
<blockquote>
<div><p>Find and run <cite>Git Bash</cite> from the Start menu. In the open command line interface, execute the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="n">bts</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bitshares</span><span class="o">/</span><span class="n">bitshares</span><span class="o">-</span><span class="n">core</span>
<span class="n">cd</span> <span class="n">bitshares</span><span class="o">-</span><span class="n">core</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="o">&lt;</span><span class="n">LATEST_RELEASE_TAG</span><span class="o">&gt;</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">recursive</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ul class="simple">
<li>Please modify the specific directory according to the actual situation</li>
<li>Please replace <cite>&lt;LATEST_RELEASE_TAG&gt;</cite> by the latest release version of bitshares-core. If you need to compile other versions, modify accordingly. Find [BitShares Core latest release](<a class="reference external" href="https://github.com/bitshares/bitshares-core/releases">https://github.com/bitshares/bitshares-core/releases</a>).</li>
</ul>
<p><strong>At the end of this, your base directory should look like this</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">:</span>\<span class="n">bts</span>
<span class="o">+-</span> <span class="n">bitshares</span><span class="o">-</span><span class="n">core</span>
<span class="o">+-</span> <span class="n">boost_1_57_0</span>
<span class="o">+-</span> <span class="n">cmake</span><span class="o">-</span><span class="mf">3.9</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="n">win64</span><span class="o">-</span><span class="n">x64</span>
<span class="o">+-</span> <span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span>
<span class="o">+-</span> <span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">static</span>
<span class="o">+-</span> <span class="n">doxygen</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mf">13.</span><span class="n">windows</span><span class="o">.</span><span class="n">x64</span><span class="o">.</span><span class="n">bin</span> <span class="p">(</span><span class="k">if</span> <span class="n">you</span> <span class="n">downloaded</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="set-up-the-environment-for-build">
<h3><a class="toc-backref" href="#id16">Set up the Environment for Build</a><a class="headerlink" href="#set-up-the-environment-for-build" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Create a File C:btssetenv_x64.bat</strong></li>
</ul>
<blockquote>
<div><ul>
<li><p class="first">Add the below lines and save it.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@echo</span> <span class="n">off</span>
<span class="n">Set</span> <span class="n">GRA_ROOT</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>
<span class="n">Set</span> <span class="n">OPENSSL_ROOT</span><span class="o">=%</span><span class="n">GRA_ROOT</span><span class="o">%</span>\<span class="n">openssl</span><span class="o">-</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="n">u</span><span class="o">-</span><span class="n">x64</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">static</span>
<span class="n">Set</span> <span class="n">OPENSSL_ROOT_DIR</span><span class="o">=%</span><span class="n">OPENSSL_ROOT</span><span class="o">%</span>
<span class="n">Set</span> <span class="n">OPENSSL_INCLUDE_DIR</span><span class="o">=%</span><span class="n">OPENSSL_ROOT</span><span class="o">%</span>\<span class="n">include</span>
<span class="n">Set</span> <span class="n">BOOST_ROOT</span><span class="o">=%</span><span class="n">GRA_ROOT</span><span class="o">%</span>\<span class="n">boost_1_57_0</span>
<span class="n">Set</span> <span class="n">CMAKE_ROOT</span><span class="o">=%</span><span class="n">GRA_ROOT</span><span class="o">%</span>\<span class="n">cmake</span><span class="o">-</span><span class="mf">3.9</span><span class="o">.</span><span class="mi">4</span><span class="o">-</span><span class="n">win64</span><span class="o">-</span><span class="n">x64</span>

<span class="n">Set</span> <span class="n">DOXYGEN_ROOT</span><span class="o">=%</span><span class="n">GRA_ROOT</span><span class="o">%</span>\<span class="n">doxygen</span><span class="o">-</span><span class="mf">1.8</span><span class="o">.</span><span class="mf">13.</span><span class="n">windows</span><span class="o">.</span><span class="n">x64</span><span class="o">.</span><span class="n">bin</span>

<span class="n">Set</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">BOOST_ROOT</span><span class="o">%</span>\<span class="n">lib</span><span class="p">;</span><span class="o">%</span><span class="n">CMAKE_ROOT</span><span class="o">%</span>\<span class="n">BIN</span><span class="p">;</span><span class="o">%</span><span class="n">DOXYGEN_ROOT</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>
</pre></div>
</div>
</li>
<li><p class="first">Run <strong>VS2015 x64 Native Tools Command Prompt</strong></p>
</li>
<li><p class="first">Execute the below commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="p">:</span>
<span class="n">cd</span> <span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>
<span class="n">setenv_x64</span><span class="o">.</span><span class="n">bat</span>
<span class="n">cmake</span><span class="o">-</span><span class="n">gui</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>The cmake interface will pop up.</strong></p>
</div></blockquote>
<ul class="simple">
<li><strong>CMake GUI</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set the values in the CMake GUI
- Where is the source code: Enter or select bitshares-core source directory <cite>C:/bts/bitshares-core</cite>
- Where to build the binaries: Enter or choose to compile the output directory, such as <cite>C:/bts/bin</cite></li>
<li>Click the [Configure] button.
- If prompted to compile the output directory does not exist, point [Yes] Create directory</li>
<li>In the popup box,
- The first drop-down box Specify the generator for this project Select <strong>Visual Studio 14 2015 Win64</strong>
- The second input box Optional toolset to use (argument to -T)
- The following radio box, select Use <strong>default native compiler</strong>
- Click [Finish] and wait a moment, the Generate button will light up</li>
<li>Click [Generate] , and wait a moment, the Open Project button will light up</li>
<li>Click [Open Project] to open Visual Studio</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="visual-studio">
<h3><a class="toc-backref" href="#id17">Visual Studio</a><a class="headerlink" href="#visual-studio" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Build</strong></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Compile Bitshares-core
- The default is <cite>Debug</cite> in the upper toolbar, modified to <cite>Release</cite>
- another option mode is <cite>x64</cite> by default and does not require modification</li>
<li>Build two executable
- In the Solution Explorer on the right side of the interface, scroll down to find <strong>cli_wallet</strong> and <strong>witness_node</strong>. Right-click and select build.</li>
</ul>
<p>After the compilation is complete, an executable file is generated:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>\<span class="nb">bin</span>\<span class="n">programs</span>\<span class="n">witness_node</span>\<span class="n">Release</span>\<span class="n">witness_node</span><span class="o">.</span><span class="n">exe</span>
<span class="o">*</span> <span class="n">C</span><span class="p">:</span>\<span class="n">bts</span>\<span class="nb">bin</span>\<span class="n">programs</span>\<span class="n">cli_wallet</span>\<span class="n">Release</span>\<span class="n">cli_wallet</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="others">
<h3><a class="toc-backref" href="#id18">Others</a><a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><strong>Your next step…</strong></p>
<ul>
<li><p class="first">The above-mentioned compiled <cite>witness_node.exe</cite> and <cite>cli_wallet.exe</cite> can be copied to other computers, but need to use both <cite>msvcp140.dll</cite> and <cite>vcruntime140.dll</cite></p>
<p>Copy to the same directory, under <a href="#id9"><span class="problematic" id="id10">`</span></a>C:Program Files (x86)Microsoft Visual Studio 14.0VCredistx64Microsoft.VC140.CRT`.
It can also be solved by static linking or by installing redistributable. This article does not elaborate.</p>
</li>
<li><p class="first">If you use <cite>cli_wallet.exe</cite> to connect to an API server that uses wss, you need to specify the PEM file that contains the server root certificate.
- Refer this page - [CLI-Wallet on Windows (x64)](../installation/windows_cli_tool.md#cli-wallet-on-windows-x64)</p>
</li>
</ul>
</div></blockquote>
<hr class="docutils" />
<ul class="simple">
<li>Contributor: &#64;abit</li>
</ul>
<p>Note: This is a translation of the document contributed by Abit More. The original can be found here:</p>
<p>-<a class="reference external" href="https://github.com/abitmore/bts-cn-docs/blob/master/%E4%BD%BF%E7%94%A8VisualStudio2015%E7%BC%96%E8%AF%91BitShares-Core.txt">https://github.com/abitmore/bts-cn-docs/blob/master/%E4%BD%BF%E7%94%A8VisualStudio2015%E7%BC%96%E8%AF%91BitShares-Core.txt</a></p>
<p>Also, referenced the below</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/bitshares/bitshares-core/wiki/BUILD_WIN32">https://github.com/bitshares/bitshares-core/wiki/BUILD_WIN32</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="windows_cli_tool.html" class="btn btn-neutral float-right" title="CLI-Wallet on Windows (x64)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="build_osx.html" class="btn btn-neutral" title="Building on OS X" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright BitShares Blockchain Foundation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>