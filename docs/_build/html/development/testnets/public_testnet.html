

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Public Testnet &mdash; BItShares Developers Portal  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Private Testnet" href="private_testnet.html" />
    <link rel="prev" title="Quick Start Guide - Public Testnet" href="public_testnet_details.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> BItShares Developers Portal
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/architectures.html">Introduction &amp; Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/environments.html">Development Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components/components.html">System Components Elements</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/accounts/bts_account.html">BitShares Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interaction.html">Blockchain Interaction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../testnets.html">Testnets</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="public_testnet_details.html">Quick Start Guide - Public Testnet</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Public Testnet</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-to-set-up-public-open-testnet">How to Set up Public Open Testnet</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation-configuration">1. Installation_Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#genesis-configuration">2. Genesis Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initialize-blockchain">3. Initialize Blockchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connect-a-cli-wallet">4. Connect a CLI wallet</a></li>
<li class="toctree-l4"><a class="reference internal" href="#establish-a-committee">5. Establish a Committee</a></li>
<li class="toctree-l4"><a class="reference internal" href="#web-wallet">6. Web Wallet</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="private_testnet.html">Private Testnet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testnets.html#other-references">Other References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testnets.html#tools">Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bsip.html">BitShares Improvement Proposal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supports_dev/supports.html">Support and Optimizations</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api_about.html">1. API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/restrictions.html">2. API Access and Restrictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/calls.html">3. Available Calls, Object, and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/blockchain_api.html">4. Blockchain API(s)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/wallet_api.html">5. Wallet API - Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/objects_ids.html">6. Objects and IDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/namespaces.html">7. Graphene - Namespaces</a></li>
</ul>
<p class="caption"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/tutorials/index.html">Developer Guide (Tutorials)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bts_guide/index_faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html">BitShares Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/info_comunities.html#bitshares-blockchain">BitShares Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html">BitShares Developers’ Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/tech_articles.html#articles">Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/githubrepo.html">BitShares Repositories</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BItShares Developers Portal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../testnets.html">Testnets</a> &raquo;</li>
        
      <li>Public Testnet</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="public-testnet">
<span id="public-testnet-guide"></span><h1>Public Testnet<a class="headerlink" href="#public-testnet" title="Permalink to this headline">¶</a></h1>
<p>This section explains the process of customizing and deploying a graphene blockchain in the public testnet environment and also shows the steps to be a block producing node (witness node).</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#how-to-set-up-public-open-testnet" id="id1">How to Set up Public Open Testnet</a><ul>
<li><a class="reference internal" href="#installation-configuration" id="id2">1. Installation_Configuration</a></li>
<li><a class="reference internal" href="#genesis-configuration" id="id3">2. Genesis Configuration</a></li>
<li><a class="reference internal" href="#initialize-blockchain" id="id4">3. Initialize Blockchain</a></li>
<li><a class="reference internal" href="#connect-a-cli-wallet" id="id5">4. Connect a CLI wallet</a><ul>
<li><a class="reference internal" href="#gain-access-to-stake" id="id6">Gain Access to Stake</a></li>
<li><a class="reference internal" href="#manage-accounts" id="id7">Manage Accounts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#establish-a-committee" id="id8">5. Establish a Committee</a></li>
<li><a class="reference internal" href="#web-wallet" id="id9">6. Web Wallet</a></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="how-to-set-up-public-open-testnet">
<h2><a class="toc-backref" href="#id1">How to Set up Public Open Testnet</a><a class="headerlink" href="#how-to-set-up-public-open-testnet" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installation-configuration">
<h3><a class="toc-backref" href="#id2">1. Installation_Configuration</a><a class="headerlink" href="#installation-configuration" title="Permalink to this headline">¶</a></h3>
<p>1.1 BitShares-Core Testnet branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bitshares</span><span class="o">/</span><span class="n">bitshares</span><span class="o">-</span><span class="n">core</span><span class="o">.</span><span class="n">git</span> <span class="n">bitshares</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">testnet</span>
<span class="n">cd</span> <span class="n">bitshares</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="n">testnet</span><span class="o">/</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">testnet</span>
</pre></div>
</div>
<p>1.2 Configuration</p>
<p><strong>Blockchain Parameters</strong></p>
<p>The blockchain parameters can be modified in the
<a class="reference external" href="https://github.com/bitshares/bitshares-core/blob/master/libraries/chain/include/graphene/chain/config.hpp">libraries/chain/include/graphene/chain/config.hpp</a> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vim</span> <span class="n">libraries</span><span class="o">/</span><span class="n">chain</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">graphene</span><span class="o">/</span><span class="n">chain</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">hpp</span>
</pre></div>
</div>
<p><strong>Default Seed Node List</strong></p>
<p>We can add a default list of seed nodes that the witness is supposed to try to connect to in <a class="reference external" href="https://github.com/bitshares/bitshares-core/blob/master/libraries/app/application.cpp">libraries/app/application.cpp</a> and will add the IP/Address and port of the machine we are going to setup later already:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">testnet</span><span class="o">.</span><span class="n">bitshares</span><span class="o">.</span><span class="n">eu</span><span class="p">:</span><span class="mi">11010</span>
</pre></div>
</div>
<p>The full change set can be seen in the corresponding <a class="reference external" href="https://github.com/BitSharesEurope/graphene-testnet/commit/94f0a95be6f80cb5a7926ba6cc920dd795eb3a19">git commit</a></p>
<p>1.3 Initial Compilation</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">.</span>
 <span class="n">make</span>
</pre></div>
</div>
</div></blockquote>
<p>We first need to compile the graphene toolkit so that we can let it generate a plain genesis file in the proper format.</p>
</div>
<div class="section" id="genesis-configuration">
<h3><a class="toc-backref" href="#id3">2. Genesis Configuration</a><a class="headerlink" href="#genesis-configuration" title="Permalink to this headline">¶</a></h3>
<p>2.1 Create a Genesis file</p>
<p>We will create a genesis file named <code class="docutils literal notranslate"><span class="pre">my-genesis.json</span></code> that contains the genesis block:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="n">genesis</span>
<span class="n">programs</span><span class="o">/</span><span class="n">witness_node</span><span class="o">/</span><span class="n">witness_node</span> <span class="o">--</span><span class="n">create</span><span class="o">-</span><span class="n">genesis</span><span class="o">-</span><span class="n">json</span> <span class="n">genesis</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">genesis</span><span class="o">.</span><span class="n">json</span>
<span class="n">vim</span> <span class="n">genesis</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">genesis</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">my-genesis.json</span></code> is the initial state of the network.</p>
<p>2.2 Edit a Genesis file</p>
<p>If you want to customize the network’s initial state, edit <code class="docutils literal notranslate"><span class="pre">my-genesis.json</span></code>.
This allows you to control things such as:</p>
<ul class="simple">
<li>The accounts that exist at genesis, their names and public keys</li>
<li>Assets and their initial distribution (including core asset)</li>
<li>The initial values of chain parameters</li>
<li>The account / signing keys of the <code class="docutils literal notranslate"><span class="pre">init</span></code> witnesses (or in fact any account at all).</li>
</ul>
<p>The chain ID is a hash of the genesis state.  All transaction signatures are only valid for a single chain ID.  So editing the genesis file will change your chain ID, and make you unable to sync with all existing chains (unless one of them has exactly the same genesis file you do).</p>
<p><strong>Copy final Genesis</strong></p>
<p>We now copy our gensis template file over to the graphene root directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cp genesis/my-genesis.json genesis.json
$ vim genesis.json
$ git add genesis.json
$ git commit -m &quot;Added genesis.json&quot;
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">timestamp</span></code> needs to be pasted into <code class="docutils literal notranslate"><span class="pre">genesis.json</span></code> file in the <cite>initial_timestamp</cite> field. Choose it relatively close to the future where you can generate the genesis block (e.g., now plus 10 minutes).</p>
<p><strong>Include Genesis into the binaries</strong></p>
<p>To let the binaries know about your new genesis block, we need to recompile it and provide <code class="docutils literal notranslate"><span class="pre">cmake</span></code> with the parameter to identify the genesis block properly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make clean
$ find . -name &quot;CMakeCache.txt&quot; | xargs rm -f
$ find . -name &quot;CMakeFiles&quot; | xargs rm -Rf
$ cmake -DGRAPHENE_EGENESIS_JSON=&quot;$(pwd)/genesis.json&quot; .
</pre></div>
</div>
<p>You can add the <code class="docutils literal notranslate"><span class="pre">GRAPHENE_EGENESIS_JSON</span></code> to the default parameters by adding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span><span class="n">GRAPHENE_EGENESIS_JSON</span> <span class="s2">&quot;$</span><span class="si">{CMAKE_CURRENT_SOURCE_DIR}</span><span class="s2">/genesis.json&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>to the <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> file. This way, you don’t need to provide this parameter all the time.</p>
</div>
<div class="section" id="initialize-blockchain">
<h3><a class="toc-backref" href="#id4">3. Initialize Blockchain</a><a class="headerlink" href="#initialize-blockchain" title="Permalink to this headline">¶</a></h3>
<p>3.1 Initialize the Genesis Block</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--enable-stale-production</span></code> flag tells the <code class="docutils literal notranslate"><span class="pre">witness_node</span></code> to produce on a chain with zero blocks or very old blocks.  We specify the <code class="docutils literal notranslate"><span class="pre">--enable-stale-production</span></code> parameter on the command line as we will not normally need it (although it can also be specified in the config file).:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">programs</span><span class="o">/</span><span class="n">witness_node</span><span class="o">/</span><span class="n">witness_node</span> <span class="o">--</span><span class="n">genesis</span><span class="o">-</span><span class="n">json</span> <span class="n">genesis</span><span class="o">.</span><span class="n">json</span> \
                                  <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">stale</span><span class="o">-</span><span class="n">production</span> \
                                  <span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="nb">dir</span> <span class="n">data</span><span class="o">/</span><span class="n">testnet</span>
</pre></div>
</div>
<p><strong>Chain ID:</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Started</span> <span class="n">witness</span> <span class="n">node</span> <span class="n">on</span> <span class="n">a</span> <span class="n">chain</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">blocks</span><span class="o">.</span>
<span class="n">Chain</span> <span class="n">ID</span> <span class="ow">is</span> <span class="n">cf307110d029cb882d126bf0488dc4864772f68d9888d86b458d16e6c36aa74b</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If other witness produces blocks and witness participation is high enough, subsequent runs which connect to an existing witness node over the p2p network, or which get blockchain state from an existing data directory, need not have the <code class="docutils literal notranslate"><span class="pre">--enable-stale-production</span></code> flag.</p>
</div>
<p>3.2 Set up Block Production</p>
<p>Create a very basic configuration file in <code class="docutils literal notranslate"><span class="pre">data/testnet/config.ini</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mkdir -p data/testnet
$ vim data/testnet/config.ini
</pre></div>
</div>
<p>All we put into the configuration file is the ids and the keys for the witnesses so that we can start producing blocks</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.1&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.2&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.3&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.4&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.5&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.6&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.7&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.8&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.9&quot;</span>
<span class="n">witness</span><span class="o">-</span><span class="nb">id</span> <span class="o">=</span> <span class="s2">&quot;1.6.10&quot;</span>
<span class="c1"># For each witness, add pubkey and private key:</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;GPH6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV&quot;</span><span class="p">,</span><span class="s2">&quot;5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3&quot;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">private</span><span class="o">-</span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pubkey</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">privkey</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>This authorizes the <code class="docutils literal notranslate"><span class="pre">witness_node</span></code> to produce blocks on behalf of the listed <code class="docutils literal notranslate"><span class="pre">witness-id</span></code>’s, and specifies the private key needed to sign those blocks.  Normally each witness would be on a different node, but for the purposes of this testnet, we will start out with all witnesses signing blocks on a single node.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The setting <code class="docutils literal notranslate"><span class="pre">rpc-endpoint</span> <span class="pre">=</span> <span class="pre">0.0.0.0:11011</span></code> will open up the RPC-port <code class="docutils literal notranslate"><span class="pre">11011</span></code> to connect a cli-wallet or web wallet to it. With the <code class="docutils literal notranslate"><span class="pre">p2p-endpoint</span> <span class="pre">=</span> <span class="pre">0.0.0.0:11010</span></code> being accessible from the internet, this node can be used as seed node.</p>
</div>
<p>3.3 Embed the Genesis block (optional)</p>
<p>Now that we have the blockchain established and the used correct genesis block, we can have it embedded into the binaries directly. For that reasons we have moved it into the root directory and called it <code class="docutils literal notranslate"><span class="pre">genesis.json</span></code> for the default compile toolchain to catch it automatically. We recompile to include the genesis block with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span>
<span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&quot;CMakeCache.txt&quot;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">rm</span> <span class="o">-</span><span class="n">f</span>
<span class="n">find</span> <span class="o">.</span> <span class="o">-</span><span class="n">name</span> <span class="s2">&quot;CMakeFiles&quot;</span> <span class="o">|</span> <span class="n">xargs</span> <span class="n">rm</span> <span class="o">-</span><span class="n">Rf</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">.</span>
</pre></div>
</div>
<p>Deleting caches will reset all <code class="docutils literal notranslate"><span class="pre">cmake</span></code> variables, you might be asked to set other <code class="docutils literal notranslate"><span class="pre">cmake</span></code> variables. You will have to add those variables to the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> line above.</p>
<p>Embedding the genesis copies the entire content of genesis block into the <code class="docutils literal notranslate"><span class="pre">witness_node</span></code> binary, and additionally copies the chain ID into the <code class="docutils literal notranslate"><span class="pre">cli_wallet</span></code> binary.  Embedded genesis allows the following simplifications to the subsequent instructions:</p>
<ul class="simple">
<li>You need <strong>not</strong> specify the genesis file on the witness node command line, or in the witness node configuration file.</li>
<li>You need <strong>not</strong> specify the chain ID on the <code class="docutils literal notranslate"><span class="pre">cli_wallet</span></code> command line when starting a new wallet.</li>
</ul>
</div>
<div class="section" id="connect-a-cli-wallet">
<h3><a class="toc-backref" href="#id5">4. Connect a CLI wallet</a><a class="headerlink" href="#connect-a-cli-wallet" title="Permalink to this headline">¶</a></h3>
<p>We will show how to connect a cli-wallet to the new blockchain and generate our first transaction on the new blockchain.</p>
<p>In order to create a wallet, you must specify the previously setup server. With the witness node’s default access control settings.</p>
<p><strong>Create a Wallet - Public Testnet</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">programs</span><span class="o">/</span><span class="n">cli_wallet</span><span class="o">/</span><span class="n">cli_wallet</span> <span class="o">--</span><span class="n">wallet</span><span class="o">-</span><span class="n">file</span> <span class="n">my</span><span class="o">-</span><span class="n">wallet</span><span class="o">.</span><span class="n">json</span> <span class="o">-</span><span class="n">s</span> <span class="n">ws</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">11011</span> <span class="o">-</span><span class="n">H</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8090</span> <span class="o">-</span><span class="n">r</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">8099</span>
</pre></div>
</div>
<p>&gt; Note: The parameter <code class="docutils literal notranslate"><span class="pre">-H</span></code> is required so that we can interface with the cli-wallet via RPC-HTTP-JSON, later while <code class="docutils literal notranslate"><span class="pre">-r</span></code> will open a port for the Ruby-based faucet.</p>
<p>If you get the <cite>set_password</cite> prompt, it means your CLI wallet has successfully connected to the testnet witness node.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">set_password</span></code></li>
</ul>
<p>This password is used to encrypt the private keys in the wallet. (e.g., <cite>supersecret</cite> is a password):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">set_password</span> <span class="n">supersecret</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">unlock</span></code> the wallet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">unlock</span> <span class="n">supersecret</span>
</pre></div>
</div>
</li>
</ul>
<div class="section" id="gain-access-to-stake">
<h4><a class="toc-backref" href="#id6">Gain Access to Stake</a><a class="headerlink" href="#gain-access-to-stake" title="Permalink to this headline">¶</a></h4>
<p>In Graphene, balances are contained in accounts. To import an account that exists in the Graphene genesis. (i.g.,&lt;name&gt; is an account name owning the key.  &lt;wifkey&gt; is a private key)</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">import_key</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">import_key</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="s2">&quot;&lt;wifkey&gt;&quot;</span>
</pre></div>
</div>
</li>
</ul>
<p>Funds are stored in genesis balance objects. These funds can be claimed, with no fee.</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">import_balance</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">import_balance</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span> <span class="n">true</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="manage-accounts">
<h4><a class="toc-backref" href="#id7">Manage Accounts</a><a class="headerlink" href="#manage-accounts" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">upgrade_account</span></code></li>
</ul>
<blockquote>
<div><p><strong>Obtain Lifetime member (LTM) status</strong>: Requires lifetime member (LTM) status to create an account. You can upgrade the account.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">upgrade_account</span> <span class="n">faucet</span> <span class="n">true</span>
</pre></div>
</div>
</div></blockquote>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">register_account</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">register_account</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">owner</span><span class="o">-</span><span class="n">public_key</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">active</span><span class="o">-</span><span class="n">public_key</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">registrar_account</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">referrer_account</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">referrer_percent</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">broadcast</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ul>
<blockquote>
<div><p>This command allows you to register an account using only a <strong>public key</strong>.</p>
<p><strong>example</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">register_account</span> <span class="n">alpha</span> <span class="n">GPH4zSJHx7D84T1j6HQ7keXWdtabBBWJxvfJw72XmEyqmgdoo1njF</span> <span class="n">GPH4zSJHx7D84T1j6HQ7keXWdtabBBWJxvfJw72XmEyqmgdoo1njF</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="mi">0</span> <span class="n">true</span>
</pre></div>
</div>
<p>Test <code class="docutils literal notranslate"><span class="pre">transfer</span></code> to send <cite>CORE</cite> from <cite>faucet</cite> to <cite>alpha</cite> user.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transfer</span> <span class="n">faucet</span> <span class="n">alpha</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;here is the cash&quot;</span> <span class="n">true</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Open a new Wallet for `alpha` user</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">import_key</span> <span class="n">alpha</span> <span class="mi">5</span><span class="n">HuCDiMeESd86xrRvTbexLjkVg2BEoKrb7BAA5RLgXizkgV3shs</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">upgrade_account</span> <span class="n">alpha</span> <span class="n">true</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">create_witness</span> <span class="n">alpha</span> <span class="s2">&quot;http://www.alpha&quot;</span> <span class="n">true</span>
</pre></div>
</div>
<p><strong>Obtain the private key</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">get_private_key</span></code> command allows us to obtain the <strong>private key</strong> corresponding to the block signing key.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_private_key</span> <span class="n">GPH6viEhYCQr8xKP3Vj8wfHh6WfZeJK7H9uhLPDYWLGCRSj5kHQZM</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="establish-a-committee">
<h3><a class="toc-backref" href="#id8">5. Establish a Committee</a><a class="headerlink" href="#establish-a-committee" title="Permalink to this headline">¶</a></h3>
<p>Our network, of course, needs a committee. We need to initially create new accounts and let them apply as committee member.</p>
<p>5.1 Creating members</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">create_account_with_brain_key</span></code></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_account_with_brain_key</span> <span class="n">com0</span> <span class="n">com0</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com1</span> <span class="n">com1</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com2</span> <span class="n">com2</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com3</span> <span class="n">com3</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com4</span> <span class="n">com4</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com5</span> <span class="n">com5</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
<span class="n">create_account_with_brain_key</span> <span class="n">com6</span> <span class="n">com6</span> <span class="n">faucet</span> <span class="n">faucet</span> <span class="n">true</span>
</pre></div>
</div>
<p>5.2 Upgrading members</p>
<p>Since only lifetime members can be committee members, we need to fund these accounts <code class="docutils literal notranslate"><span class="pre">transfer</span></code>  and upgrade <code class="docutils literal notranslate"><span class="pre">upgrade_account</span></code> them accordingly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com0</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com1</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com2</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com3</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com4</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com5</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">transfer</span> <span class="n">faucet</span> <span class="n">com6</span> <span class="mi">100000</span> <span class="n">CORE</span> <span class="s2">&quot;some cash&quot;</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com0</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com1</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com2</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com3</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com4</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com5</span> <span class="n">true</span>
<span class="n">upgrade_account</span> <span class="n">com6</span> <span class="n">true</span>
</pre></div>
</div>
<p>5.3 Registering as committee member</p>
<p>We can apply for committee with create_committee_member:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">create_committee_member</span></code></li>
</ul>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_committee_member</span> <span class="n">com0</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com1</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com2</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com3</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com4</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com5</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
<span class="n">create_committee_member</span> <span class="n">com6</span> <span class="s2">&quot;&quot;</span> <span class="n">true</span>
</pre></div>
</div>
</div></blockquote>
<p>5.4 Voting with faucet account</p>
<p>All we need to do know is vote for our own committee members:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">vote_for_committee_member</span></code></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com0</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com1</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com2</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com3</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com4</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com5</span> <span class="n">true</span> <span class="n">true</span>
<span class="n">vote_for_committee_member</span> <span class="n">faucet</span> <span class="n">com6</span> <span class="n">true</span> <span class="n">true</span>
</pre></div>
</div>
</div>
<div class="section" id="web-wallet">
<h3><a class="toc-backref" href="#id9">6. Web Wallet</a><a class="headerlink" href="#web-wallet" title="Permalink to this headline">¶</a></h3>
<p>Since we need to provide a way for people to enter the network/blockchain, we need to install the web wallet into nginx.</p>
<p>6.1 Installation of Dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">git</span> <span class="n">nodejs</span><span class="o">-</span><span class="n">legacy</span> <span class="n">npm</span>
<span class="n">sudo</span> <span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">webpack</span> <span class="n">coffee</span><span class="o">-</span><span class="n">script</span>
</pre></div>
</div>
<p>6.2 Fetching the web wallet</p>
<p>Afterwards, we download the bitshares-ui repository from Cryptonomex and install the Node dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/bitshares/bitshares-ui
cd bitshares-ui/

for I in dl web; do cd $I; npm install; cd ..; done
</pre></div>
</div>
<p>6.3 Configuration</p>
<p>Obtain the chain_id of the chain we are running.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ curl --data &#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;method&quot;: &quot;get_chain_properties&quot;, &quot;params&quot;: [], &quot;id&quot;: 1}&#39; http://127.0.0.1:11011/rpc &amp;&amp; echo
</pre></div>
</div>
<p>The chain id is used to let the web wallet know to which network it connects and how to deal with it. For this we modify the file dl/src/chain/config.coffee and add our blockchain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Test</span><span class="p">:</span>
<span class="n">core_asset</span><span class="p">:</span> <span class="s2">&quot;TEST&quot;</span>
<span class="n">address_prefix</span><span class="p">:</span> <span class="s2">&quot;TEST&quot;</span>
<span class="n">chain_id</span><span class="p">:</span> <span class="s2">&quot;&lt;chain-id&gt;&quot;</span>
</pre></div>
</div>
<p>Furthermore, we need to tell our web wallet to which witness node to connect to. This can be done in the file dl/src/stores/SettingsStore.js.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span><span class="p">:</span> <span class="s2">&quot;ws://&lt;host&gt;/ws&quot;</span><span class="p">,</span>
<span class="n">faucet_address</span><span class="p">:</span> <span class="s2">&quot;https://&lt;host&gt;&quot;</span><span class="p">,</span>

<span class="c1"># also edit the &quot;default&quot; settings</span>
</pre></div>
</div>
<p>6.4 Compilation</p>
<p><strong>Compile the web wallet</strong></p>
<ul class="simple">
<li>This will generate the static files in the dist/ folder.</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">web</span>
<span class="n">npm</span> <span class="n">run</span> <span class="n">build</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="private_testnet.html" class="btn btn-neutral float-right" title="Private Testnet" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="public_testnet_details.html" class="btn btn-neutral" title="Quick Start Guide - Public Testnet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright BitShares Blockchain Foundation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>